<template>
  <div>
    <header-sub-menus>
      <li><a href="#" class="link active">
        赛事主页
        <svg class="icon schdule_icon_active" aria-hidden="true">
          <use xlink:href="#icon-circle_blue"></use>
        </svg>
      </a></li>

    </header-sub-menus>
    <div class="page-main">
      参考模板

      <br><br>
      <div class="swiper-box">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide item" style="background:#CA4040;">slider1</div>
          <div class="swiper-slide item" style="background:#ff4500;">slider2</div>
          <div class="swiper-slide item" style="background:#218ff2;">slider3</div>
          <div class="swiper-slide item" style="background:#f27fe4;">slider4</div>
          <div class="swiper-slide item" style="background:#b2f266;">slider5</div>
          <div class="swiper-slide item" style="background:#f2d439;">slider6</div>
          <div class="swiper-slide item" style="background:#f21790;">slider7</div>
          <div class="swiper-slide item" style="background:#218ff2;">slider8</div>
          <div class="swiper-slide item" style="background:#f27fe4;">slider9</div>
          <div class="swiper-slide item" style="background:#f27fe4;">slider10</div>
        </div>
      </div>
      </div>

      <br>
      <div class="websocket">
        <div id="mess">正在连接...</div>
        <div id="message"></div>
        <div class="socket-box">
          <div class="value" id="value1">小明小明</div>
          <div class="value" id="value2">小李小李</div>
          <div class="value" id="value3">小张小张</div>
        </div>
      </div>

      <br>
      <div class="text-es">
        <a href="#">
          全新游乐场版规：☞点我查看懒人版版规！！对版主有异议，请@CG大魔王 和 @Wesson1
          由他们商定裁断。在本版面嘲讽，造谣或者攻击版务，7天禁言或被封号。可适度表达不满，但粗口、谩骂、人身攻击并情节严重的，会被直接封号。滥用举报的用户，会先进行警告；无视警告继续滥用举报的会被禁言乃至封号。玩梗要适度，可以玩梗，但一味的刷与主题不相关或者纯粹的玩梗都是禁止的，一经发现会被禁言3天。以前经常水贴，以水贴作为主要目的的用户请不要再犯，关于水贴的惩罚会在下面详细说明。奖励：1.游乐场奖励一切对任何游戏，任何事具有实际效果的内容。其他一定质量的相关内容，版主会视情况添加奖励。2.比赛分析/游戏攻略（原创）等，奖励100-1000果子。3.海外文章翻译/国内的官方信息搬运等，奖励100-300果子。4.美术类/绘画/视频等，奖励100果子。5.买家秀/抽奖晒图等，奖励77果子。详细测评内容奖励100~500果子。6.帮他人解答疑问或有详细内容的回复可能会有100果子奖励。7.以上内容优质或获得推荐，将视情况在原基础上额外增加果子奖励。8.其他任何活动奖励与版规奖励不冲突。9.未来还将推出徽章奖励，为游乐场持续做出贡献的用户可申请特别徽章。10.有其他以上没提到的优质内容/帖子，版主会酌情给予果子奖励。惩罚：1.版主认为不适合讨论的内容（水贴/敏感话题/引战）的内容会被隐藏或删除，不恰当的回复也会进行删除，本操作不接受申诉。2.无脑喷/转进/引战/嘲讽/钓鱼/人身攻击的发言会被禁言7天，情节严重者会被进行删号处理。利用举报或私信功能进行人身攻击/骚扰或其他恶劣行为的从重处理。3.水贴/刷版/重复发贴/恶意挖坟（一个月）/标题党/刷梗/纯表情回复/刷图等内容可能会进行禁言3-7天或封号等处理。4.宣传外挂，脚本或为这类行为洗地的，视情况封禁3-7天。宣传代打/账号交易/账号共享或为这类行为洗地的，视情况禁言或封号。但版内水友因某些原因，在自定义游戏中使用非本人账号或为他人提供账号的情况不计在内。宣传挂机/送头/故意掉分，会被禁言或者封号处理。有其他争议情节由版务酌情处理。5.本区不排斥八卦，小道消息等未经证实的内容，但此类内容随时可能被删除（所以请带上消息原地址）。若因此类消息导致用户发表不当言论，爆料人可能会被禁言或封号。6.宣传且不限于QQ群/微信群/QT/YY/等未经版主同意的帖子一律会被禁言7天，被认定为广告内容的发言会处以3-7天禁言或封号等处罚。小号广告一律严惩。7.禁止玩家间进行真实货币交易。但可以进行抽奖，抽奖要求请看下方规定。8.本区严禁涉及政治色情暴力毒品赌博等违反国家法律法规的言论，也不允许种族、民族，地域贴，此类发言视情节删帖、禁言、封号，并保留资料提交公安机关。9.不允许对Score内用户使用战队恶劣称呼
          如：“皇杂”，“猪杂”等，一经发现，3天禁言，严重者封号。10.一旦发现有以上没提到的恶劣行为，版主会自行裁断进行处理。11.若有活动要求和以上制度冲突，以上制度均以活动要求为主。12.请大家善用举报功能，举报有效我们将按版规处理，但若利用举报功能进行人身攻击/骚扰等恶劣行为，我们也将按照以上规定处理举报人。抽奖规定：1.抽奖标题内容不能违反以上版规。2.抽奖时必须明确：抽奖条件，抽奖内容，抽奖方式，奖品送出方式，抽奖时间，有效回帖时间，以及其他补充要求（没有不写）。3.抽奖条件必须严谨不能自相矛盾，抽奖内容应是积极向上，以鼓励，祝福为主。拒绝负面抽奖，一经发现，按违规处理。4.奖品必须符合我国法律法规，尽量以游戏周边，游戏道具，俱乐部周边，现金为主（现金必须标明金钱单位，没有标明一律按人民币计算）。5.奖品的上限我们不做限制，但希望大家不要赠送过大价值的奖品，造成法律问题Score概不负责。6.抽奖条件满足后请一周内抽出奖品，一经举报发现未核实奖品，处以封号处理。若有原因拖时间，可在帖子里说明。这类特殊情况由版主裁定。抽奖示例：抽奖条件：ig赢得MSI冠军抽奖内容：IG纪念狗牌一个抽奖方式：在帖子下回复“ig牛逼”即可奖品送出方式：淘宝下单直送抽奖时间：IG赢得MSI冠军之后三日内有效回帖时间：MSI决赛开始前补充要求：楼主可自行发挥（以上抽奖仅供参考）申诉：账号一旦被禁言封号若有异议请私聊CG大魔王和Wesson1或联系客服，他们会视情况裁定用户与权限他的版主。版主若被裁定为处理欠妥将会被封禁7天，封禁结束后将会发帖道歉。以上两位同样适用于此版规。用户申诉成功将会解除之前的封禁处理，并给予200果子的赔偿。其他：如有其他情况，版主可以设立临时公告，临时公告作为原版规的补充内容。与原版规不同之处按临时公告执行。其他特殊情况，请@CG大魔王
          和 @Wesson1 解决。版主工作不易，大家和谐讨论啦。适当的吐槽我们都是允许的。1.20号补充版规：个人简介中有人身攻击/粗口/带节奏/嘲讽/引战等不恰当言论的用户我们会进行2-6天的禁言处理。
        </a>
      </div>

      <br>
      <div>
        <button @click="mockjstest">moackjs click</button>
      </div>

      <br><br>
      <no-data :show="true"></no-data>

      <br><br>
      <vue-star-score :score="3.3" :count="10" type="star" color="red"></vue-star-score>
      <br><br><br><br>

      <audio-box
        :show="true"
        seconds="175"
        url="https://img1.famulei.com/z/75165/a/196/1316303283666.mp3"></audio-box>

    </div>
  </div>
</template>

<script>

  export default {
    name: "template_test",
    components:{
    },
    watch:{
      tokenValue(newVal, oldVal){
        console.log(`newVal=${newVal}`);
        console.log(`oldVal=${oldVal}`);
      }
    },
    computed: {
      tokenValue() {
        return this.$store.state.modules.login.f_token;
      }
    },
    data() {
      return {
        article:{
          tournament_id:11
        }
      }
    },
    head() {
      return this.$seo(
        `参考模板2`,
        `参考模板`,
        `参考模板`
      );
    },
    async asyncData() {
      // 异步数据处理，另外该方法的第一个参数为当前页面组件的 上下文对象。
      /*
      let res = await ({
        method: 'get',
        url: `/apiUrl.do?id=parameters`
      })
      return {
        dataList:res.data.list,
      }
      */
    },
    mounted() {

      var mySwiper = new Swiper('.swiper-container', {
        slidesPerColumn : 3,
        slidesPerColumnFill : 'row',
      })


      var mess = document.getElementById("mess");
      var message = document.getElementById("message");
      if(window.WebSocket){
        var ws = new WebSocket('ws://localhost:3110/11111');

        ws.onopen = function(e){
          console.log("连接服务器成功");
          var msgJson = {
            id:'11111',
            data: '哈喽我是 11111'
          };
          ws.send(JSON.stringify(msgJson));
        };

        ws.onclose = function(e){
          console.log("服务器关闭");
        };

        ws.onerror = function(){
          console.log("连接出错");
        };

        ws.onmessage = function(e){
          mess.innerHTML = "连接成功"
          message.innerHTML += new Date()+ "的消息："+ e.data +"<br>";
          document.querySelector(".socket-box").onclick = function(e){
            var msgJson = {
              id: '11111',
              toMemberId: '22222',
              data: e.target.innerHTML,
              time: new Date()
            };
            ws.send(JSON.stringify(msgJson));
          }
        }
      }



    },
    methods: {
      mockjstest(){
        this.$axios.baseURL = '';
        this.$axios.get("/mock/service/match/match_info_new.php").then(res => {
          console.log(res);
        });


      }



    },
    destroyed() {
    }
  }
</script>

<style lang="stylus" scoped>

  .weather{
    display flex;
    flex-wrap wrap;

    .item{
      width 100px;
      height 100px;
      margin-bottom:20px;
      display block;
      text-align center

      p{
        font-size:12px;
        height: 20px;
      }
    }
  }


  .websocket{
    .socket-box{
      text-align: center;
      margin-top:20px;

      #mess{
        text-align: center
      }
      .value {
        width: 100px;
        height: 60px;
        border: 1px solid;
        text-align: center;
        line-height: 60px;
        display: inline-block;
        cursor: pointer;
      }
    }

  }



  .swiper-box{
    width: 150px;

    .swiper-wrapper{
      width: 150px;
      height: 120px;
      background: #DDDDDD;
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
      align-content: flex-start;

      .item{
        color: #fff;
        width: 150px;
        height: 40px;
        background: #4e70b7;
        flex-shrink: 0;
        display flex;
        align-items center;
        justify-content center;
      }
    }
  }

</style>
<style>

  .text-es{
    margin-left: 100px;
    width: 300px;
    display: -webkit-box;
    word-break: break-all;
    text-overflow: ellipsis;
    overflow: hidden;
    /* autoprefixer: off */
    -webkit-box-orient: vertical;
    /* autoprefixer: on */
    -webkit-line-clamp: 3;
    line-height:1.5
  }



</style>
